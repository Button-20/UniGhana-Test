{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/SoundIt/Desktop/Development/unighana-test/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MustMatch } from './MustMatch';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"registerModal\"];\nfunction RegisterComponent_small_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Username is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 24);\n    i0.ɵɵtemplate(1, RegisterComponent_small_13_div_1_Template, 3, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.username == null ? null : ctx_r0.username.errors == null ? null : ctx_r0.username.errors[\"required\"]);\n  }\n}\nfunction RegisterComponent_small_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Email is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_18_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Invalid email\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 24);\n    i0.ɵɵtemplate(1, RegisterComponent_small_18_div_1_Template, 3, 0, \"div\", 25);\n    i0.ɵɵtemplate(2, RegisterComponent_small_18_div_2_Template, 3, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.email == null ? null : ctx_r1.email.errors == null ? null : ctx_r1.email.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.email == null ? null : ctx_r1.email.errors == null ? null : ctx_r1.email.errors[\"email\"]);\n  }\n}\nfunction RegisterComponent_small_27_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Password is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_27_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Password must be at least 8 characters\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_27_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Password should have at least one letter, one number and one special character\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 24);\n    i0.ɵɵtemplate(1, RegisterComponent_small_27_div_1_Template, 3, 0, \"div\", 25);\n    i0.ɵɵtemplate(2, RegisterComponent_small_27_div_2_Template, 3, 0, \"div\", 25);\n    i0.ɵɵtemplate(3, RegisterComponent_small_27_div_3_Template, 3, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.password.errors == null ? null : ctx_r2.password.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.password.errors == null ? null : ctx_r2.password.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.password.errors == null ? null : ctx_r2.password.errors[\"pattern\"]);\n  }\n}\nfunction RegisterComponent_small_32_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Confirm Password is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_32_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Confirm Password must be at least 8 characters\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_32_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"Passwords must match\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_small_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 24);\n    i0.ɵɵtemplate(1, RegisterComponent_small_32_div_1_Template, 3, 0, \"div\", 25);\n    i0.ɵɵtemplate(2, RegisterComponent_small_32_div_2_Template, 3, 0, \"div\", 25);\n    i0.ɵɵtemplate(3, RegisterComponent_small_32_div_3_Template, 3, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.confirmPassword.errors == null ? null : ctx_r3.confirmPassword.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.confirmPassword.errors == null ? null : ctx_r3.confirmPassword.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.confirmPassword.errors == null ? null : ctx_r3.confirmPassword.errors[\"passwordMismatch\"]);\n  }\n}\nexport class RegisterComponent {\n  constructor(authService) {\n    this.authService = authService;\n    this.user = {\n      email: '',\n      password: '',\n      _id: '',\n      username: '',\n      createdAt: '',\n      updatedAt: ''\n    };\n    this.showPassword = false;\n    this.registerForm = new FormGroup({\n      username: new FormControl('', [Validators.required]),\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [Validators.required, Validators.minLength(8), Validators.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/)]),\n      confirmPassword: new FormControl('', [Validators.required, Validators.minLength(8)])\n    }, {\n      validators: MustMatch('password', 'confirmPassword')\n    });\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.user = _this.registerForm.value;\n      yield _this.authService.register(_this.user);\n      _this.registerForm.reset();\n      // close the modal\n    })();\n  }\n\n  togglePasswordVisibility() {\n    this.showPassword = !this.showPassword;\n  }\n  get username() {\n    return this.registerForm.get('username');\n  }\n  get email() {\n    return this.registerForm.get('email');\n  }\n  get password() {\n    return this.registerForm.get('password');\n  }\n  get confirmPassword() {\n    return this.registerForm.get('confirmPassword');\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"register\"]],\n  viewQuery: function RegisterComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.registerModal = _t.first);\n    }\n  },\n  decls: 38,\n  vars: 9,\n  consts: [[\"id\", \"registerModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"registerModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [\"novalidate\", \"\", 1, \"needs-validation\", 3, \"formGroup\", \"ngSubmit\"], [1, \"modal-header\"], [\"id\", \"registerModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [1, \"mb-3\"], [\"for\", \"username\"], [\"type\", \"text\", \"placeholder\", \"\", \"formControlName\", \"username\", \"name\", \"username\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"email\"], [\"type\", \"email\", \"placeholder\", \"\", \"formControlName\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"password\"], [\"id\", \"show_hide_password\", 1, \"input-group\"], [\"placeholder\", \"\", \"formControlName\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", 3, \"type\"], [1, \"input-group-text\"], [\"href\", \"javascript:void(0);\", 2, \"text-decoration\", \"none\", 3, \"click\"], [3, \"ngClass\"], [\"id\", \"confirmpassword\", \"placeholder\", \"\", \"formControlName\", \"confirmPassword\", \"name\", \"confirmPassword\", \"required\", \"\", 1, \"form-control\", 3, \"type\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"actionBtn\", \"btn-secondary\"], [\"type\", \"submit\", 1, \"actionBtn\", 3, \"disabled\"], [1, \"text-danger\"], [4, \"ngIf\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"h5\", 5);\n      i0.ɵɵtext(6, \"Register form\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"button\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"label\", 9);\n      i0.ɵɵtext(11, \"User Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 10);\n      i0.ɵɵtemplate(13, RegisterComponent_small_13_Template, 2, 1, \"small\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 8)(15, \"label\", 12);\n      i0.ɵɵtext(16, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 13);\n      i0.ɵɵtemplate(18, RegisterComponent_small_18_Template, 3, 2, \"small\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 8)(20, \"label\", 14);\n      i0.ɵɵtext(21, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 15);\n      i0.ɵɵelement(23, \"input\", 16);\n      i0.ɵɵelementStart(24, \"div\", 17)(25, \"a\", 18);\n      i0.ɵɵlistener(\"click\", function RegisterComponent_Template_a_click_25_listener() {\n        return ctx.togglePasswordVisibility();\n      });\n      i0.ɵɵelement(26, \"i\", 19);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(27, RegisterComponent_small_27_Template, 4, 3, \"small\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 8)(29, \"label\", 14);\n      i0.ɵɵtext(30, \"Confirm Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"input\", 20);\n      i0.ɵɵtemplate(32, RegisterComponent_small_32_Template, 4, 3, \"small\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"div\", 21)(34, \"button\", 22);\n      i0.ɵɵtext(35, \" Close \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"button\", 23);\n      i0.ɵɵtext(37, \" Register \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", (ctx.username == null ? null : ctx.username.invalid) && ((ctx.username == null ? null : ctx.username.dirty) || (ctx.username == null ? null : ctx.username.touched)));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (ctx.email == null ? null : ctx.email.invalid) && ((ctx.email == null ? null : ctx.email.dirty) || (ctx.email == null ? null : ctx.email.touched)));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", ctx.showPassword ? \"bi bi-eye-slash\" : \"bi bi-eye\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.password.invalid && (ctx.password.dirty || ctx.password.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.confirmPassword.invalid && (ctx.confirmPassword.dirty || ctx.confirmPassword.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", !ctx.registerForm.valid);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\".actionBtn[_ngcontent-%COMP%] {\\n  margin-top: 1em;\\n  color: #fff;\\n  background: #0d6be8;\\n  border: 1px solid #0d6be8;\\n  border-radius: 4px;\\n  padding: 10px 20px;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  outline: none;\\n  text-decoration: none;\\n  transition: all 0.2s ease-in-out;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  cursor: pointer;\\n}\\n.actionBtn[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);\\n}\\n.actionBtn[_ngcontent-%COMP%]:active {\\n  scale: 0.9;\\n}\\n.actionBtn[_ngcontent-%COMP%]:disabled {\\n  background: #ccc;\\n  color: #fff;\\n  border: 1px solid #ccc;\\n  cursor: not-allowed;\\n}\\n.actionBtn[_ngcontent-%COMP%]:disabled:hover {\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n}\\n.actionBtn[_ngcontent-%COMP%]:disabled:active {\\n  scale: 1;\\n}\\n.actionBtn.btn-secondary[_ngcontent-%COMP%] {\\n  background: #444444;\\n  color: #fff;\\n  border: 1px solid #444444;\\n}\\n\\n.form-control[_ngcontent-%COMP%]:focus {\\n  box-shadow: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tb2RhbHMvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0NBQUE7RUFDQSx1Q0FBQTtFQUNBLGVBQUE7QUFDRjtBQUNFO0VBQ0UsdUNBQUE7QUFDSjtBQUVFO0VBQ0UsVUFBQTtBQUFKO0FBR0U7RUFDRSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FBREo7QUFHSTtFQUNFLHVDQUFBO0FBRE47QUFJSTtFQUNFLFFBQUE7QUFGTjtBQU1FO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7QUFKSjs7QUFRQTtFQUNFLGdCQUFBO0FBTEYiLCJzb3VyY2VzQ29udGVudCI6WyIuYWN0aW9uQnRuIHtcclxuICBtYXJnaW4tdG9wOiAxZW07XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgYmFja2dyb3VuZDogIzBkNmJlODtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjMGQ2YmU4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuNCk7XHJcbiAgfVxyXG5cclxuICAmOmFjdGl2ZSB7XHJcbiAgICBzY2FsZTogMC45O1xyXG4gIH1cclxuXHJcbiAgJjpkaXNhYmxlZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjY2NjO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gICAgfVxyXG5cclxuICAgICY6YWN0aXZlIHtcclxuICAgICAgc2NhbGU6IDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmJ0bi1zZWNvbmRhcnkge1xyXG4gICAgYmFja2dyb3VuZDogIzQ0NDQ0NDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDQ0NDtcclxuICB9XHJcbn1cclxuXHJcbi5mb3JtLWNvbnRyb2w6Zm9jdXMge1xyXG4gIGJveC1zaGFkb3c6IG5vbmU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","MustMatch","i0","RegisterComponent","constructor","authService","email","password","_id","username","createdAt","updatedAt","required","minLength","pattern","confirmPassword","validators","onSubmit","user","registerForm","value","register","reset","togglePasswordVisibility","showPassword","get","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\SoundIt\\Desktop\\Development\\unighana-test\\frontend\\src\\app\\components\\modals\\register\\register.component.ts","C:\\Users\\SoundIt\\Desktop\\Development\\unighana-test\\frontend\\src\\app\\components\\modals\\register\\register.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { User } from 'src/app/interfaces/user';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { MustMatch } from './MustMatch';\n\n@Component({\n  selector: 'register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss'],\n})\nexport class RegisterComponent {\n  user: User = {\n    email: '',\n    password: '',\n    _id: '',\n    username: '',\n    createdAt: '',\n    updatedAt: '',\n  };\n\n  showPassword = false;\n\n  registerForm: FormGroup = new FormGroup(\n    {\n      username: new FormControl('', [Validators.required]),\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [\n        Validators.required,\n        Validators.minLength(8),\n        Validators.pattern(\n          /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/\n        ),\n      ]),\n      confirmPassword: new FormControl('', [\n        Validators.required,\n        Validators.minLength(8),\n      ]),\n    },\n    {\n      validators: MustMatch('password', 'confirmPassword'),\n    }\n  );\n\n  // Get modal\n  @ViewChild('registerModal') registerModal: any;\n\n\n  constructor(private authService: AuthService) {}\n\n  async onSubmit() {\n    this.user = this.registerForm.value;\n    await this.authService.register(this.user);\n    this.registerForm.reset();\n    // close the modal\n  }\n\n  togglePasswordVisibility() {\n    this.showPassword = !this.showPassword;\n  }\n\n  get username() {\n    return this.registerForm.get('username') as FormControl;\n  }\n\n  get email() {\n    return this.registerForm.get('email') as FormControl;\n  }\n\n  get password() {\n    return this.registerForm.get('password') as FormControl;\n  }\n\n  get confirmPassword() {\n    return this.registerForm.get('confirmPassword') as FormControl;\n  }\n}\n","<!-- Modal -->\n<div\n  class=\"modal fade\"\n  id=\"registerModal\"\n  tabindex=\"-1\"\n  aria-labelledby=\"registerModalLabel\"\n  aria-hidden=\"true\"\n>\n  <div class=\"modal-dialog modal-dialog-centered\">\n    <div class=\"modal-content\">\n      <form\n        [formGroup]=\"registerForm\"\n        (ngSubmit)=\"onSubmit()\"\n        class=\"needs-validation\"\n        novalidate\n      >\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"registerModalLabel\">Register form</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"mb-3\">\n            <label for=\"username\">User Name</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"\"\n              formControlName=\"username\"\n              name=\"username\"\n              required\n            />\n            <small\n              *ngIf=\"username?.invalid && (username?.dirty || username?.touched)\"\n              class=\"text-danger\"\n            >\n              <div *ngIf=\"username?.errors?.['required']\">\n                <span>Username is required</span>\n              </div>\n            </small>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"email\">Email</label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              placeholder=\"\"\n              formControlName=\"email\"\n              name=\"email\"\n              required\n            />\n            <small\n              *ngIf=\"email?.invalid && (email?.dirty || email?.touched)\"\n              class=\"text-danger\"\n              >\n              <div *ngIf=\"email?.errors?.['required']\">\n                <span>Email is required</span>\n              </div>\n              <div *ngIf=\"email?.errors?.['email']\">\n                <span>Invalid email</span>\n              </div>\n            </small>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"password\">Password</label>\n            <div class=\"input-group\" id=\"show_hide_password\">\n              <input\n                [type]=\"showPassword ? 'text' : 'password'\"\n                class=\"form-control\"\n                placeholder=\"\"\n                formControlName=\"password\"\n                name=\"password\"\n                required\n              />\n              <div class=\"input-group-text\">\n                <a\n                  href=\"javascript:void(0);\"\n                  (click)=\"togglePasswordVisibility()\"\n                  style=\"text-decoration: none\"\n                >\n                  <i\n                    [ngClass]=\"showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'\"\n                  ></i>\n                </a>\n              </div>\n            </div>\n            <small\n              *ngIf=\"password.invalid && (password.dirty || password.touched)\"\n              class=\"text-danger\"\n            >\n              <div *ngIf=\"password.errors?.['required']\">\n                <span>Password is required</span>\n              </div>\n              <div *ngIf=\"password.errors?.['minlength']\">\n                <span>Password must be at least 8 characters</span>\n              </div>\n              <div *ngIf=\"password.errors?.['pattern']\">\n                <span\n                  >Password should have at least one letter, one number and one\n                  special character</span\n                >\n              </div>\n            </small>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"password\">Confirm Password</label>\n            <input\n              [type]=\"showPassword ? 'text' : 'password'\"\n              class=\"form-control\"\n              id=\"confirmpassword\"\n              placeholder=\"\"\n              formControlName=\"confirmPassword\"\n              name=\"confirmPassword\"\n              required\n            />\n            <small\n              *ngIf=\"\n                confirmPassword.invalid &&\n                (confirmPassword.dirty || confirmPassword.touched)\n              \"\n              class=\"text-danger\"\n            >\n              <div *ngIf=\"confirmPassword.errors?.['required']\">\n                <span>Confirm Password is required</span>\n              </div>\n              <div *ngIf=\"confirmPassword.errors?.['minlength']\">\n                <span>Confirm Password must be at least 8 characters</span>\n              </div>\n              <div *ngIf=\"confirmPassword.errors?.['passwordMismatch']\">\n                <span>Passwords must match</span>\n              </div>\n            </small>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"actionBtn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            Close\n          </button>\n          <button\n            type=\"submit\"\n            class=\"actionBtn\"\n            [disabled]=\"!registerForm.valid\"\n          >\n            Register\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}